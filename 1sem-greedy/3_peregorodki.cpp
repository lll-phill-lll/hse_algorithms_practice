/*
ะะปั ััะฐะฝะตะฝะธั ะดะฒัั ะฐะณัะตััะธะฒะฝัั ะถะธะดะบะพััะตะน ๐ด ะธ ๐ต ะธัะฟะพะปัะทัะตััั ะตะผะบะพััั ั
ะผะฝะพะณะพัะปะพะนะฝะพะน ะฟะตัะตะณะพัะพะดะบะพะน, ะบะพัะพัะฐั ะธะทะณะพัะฐะฒะปะธะฒะฐะตััั ะธะท ะธะผะตััะธััั ๐ ะปะธััะพะฒ.
ะะปั ะบะฐะถะดะพะณะพ ะปะธััะฐ ๐ (๐โ=โ1,โ...,โ๐) ะธะทะฒะตััะฝะพ ะฒัะตะผั ะตะณะพ ัะฐััะฒะพัะตะฝะธั
ะถะธะดะบะพัััั ๐ดโ-โ๐๐ ะธ ะถะธะดะบะพัััั ๐ตโ-โ๐๐

ะะฐััะฒะพัะตะฝะธะต ะฟะตัะตะณะพัะพะดะบะธ ะบะฐะถะดะพะน ะธะท ะถะธะดะบะพััะตะน ะฟัะพะธััะพะดะธั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ะปะธัั ะทะฐ ะปะธััะพะผ,
ั ะฟะพััะพัะฝะฝะพะน ัะบะพัะพัััั ะฟะพ ัะพะปัะธะฝะต ะปะธััะฐ.
ะขัะตะฑัะตััั ัะฟัะพะตะบัะธัะพะฒะฐัั ัะฐะบัั ะฟะตัะตะณะพัะพะดะบั, ะฒัะตะผั ัะฐััะฒะพัะตะฝะธั ะบะพัะพัะพะน ะฑัะปะพ ะฑั ะผะฐะบัะธะผะฐะปัะฝัะผ.

ะ ะฟะตัะฒะพะน ัััะพะบะต ะฒัะพะดะฝะพะณะพ ัะฐะนะปะฐ ะทะฐะฟะธัะฐะฝะพ ัะธัะปะพ ๐
(1โโคโ๐โโคโ256). ะ ะบะฐะถะดะพะน ะธะท ะฟะพัะปะตะดัััะธั N ัััะพะบ ัะพะดะตัะถะฐััั ะดะฒะฐ ะฟะพะปะพะถะธัะตะปัะฝัั ะฒะตัะตััะฒะตะฝะฝัั
ัะธัะปะฐ ๐๐ ะธ ๐i, ัะฐะทะดะตะปะตะฝะฝัะต ะฟัะพะฑะตะปะพะผ.

ะััะพะดะฝัะต ะดะฐะฝะฝัะต:
ะ ะฟะตัะฒัั ัััะพะบั ะฒััะพะดะฝะพะณะพ ัะฐะนะปะฐ ะทะฐะฟะธัะฐัั ะฒัะตะผั ัะฐััะฒะพัะตะฝะธั ะฟะตัะตะณะพัะพะดะบะธ ั ัะพัะฝะพัััั ะดะพ 3 ัะธัั
ะฟะพัะปะต ะดะตัััะธัะฝะพะน ัะพัะบะธ. ะ ัะปะตะดััััั ัััะพะบั ัะฐะนะปะฐ ะทะฐะฟะธัะฐัั ะฝะพะผะตัะฐ ะปะธััะพะฒ ะฒ ะฟะพััะดะบะต
ะธั ัะฐัะฟะพะปะพะถะตะฝะธั ะพั ะถะธะดะบะพััะธ A ะบ ะถะธะดะบะพััะธ B, ัะฐะทะดะตะปัั ัะธัะปะฐ ะฟัะพะฑะตะปะฐะผะธ.
ะัะธะผะตัั
ะัะพะดะฝัะต ะดะฐะฝะฝัะต

4
1 2
1 2
0.5 1.5
7 3.5

ะััะพะดะฝัะต ะดะฐะฝะฝัะต

6.000
4 1 2 3
*/



#include <iostream>
#include <iomanip>
#include <vector>
#include <algorithm>

struct plate {
    double a, b;
    int idx;

    plate(double a, double b, int idx): a(a), b(b), idx(idx){}
};

double run(std::vector<plate>& v) {
    int i = 0, j = v.size() - 1;
    double dissolve_time = 0;
    while (i < j) {
        // left dissolved earlier
        if (v[i].a < v[j].b) {
            v[j].a = v[j].a * (v[j].b - v[i].a) / v[j].b;
            v[j].b = v[j].b - v[i].a;
            dissolve_time += v[i].a;
            ++i;
        } else {
            v[i].b = v[i].b * (v[i].a - v[j].b) / v[i].a;
            v[i].a = v[i].a - v[j].b;
            dissolve_time += v[j].b;
            --j;

        }
        // in case is both dissolved in the same time
        if (v[i].a == 0) ++i;
        if (v[j].b == 0) --j;
    }

    // 1 plate left
    if (i == j) {
        dissolve_time += v[i].a * v[i].b / (v[i].a + v[i].b);
    }

    return dissolve_time;
}

int main() {
    int N;
    std::cin >> N;

    std::vector<plate> v;

    double a, b;
    for (int i = 0; i != N; ++i) {
        std::cin >> a >> b;
        v.emplace_back(a, b, i + 1);
    }

    auto cmp = [](const plate& lhs, const plate& rhs ) {
       return lhs.a / lhs.b > rhs.a / rhs.b;
    };

    // auto cmp = [](const plate& lhs, const plate& rhs ) {
    //    return lhs.a - lhs.b > rhs.a - rhs.b;
    // };

    std::sort(v.begin(), v.end(), cmp);

    std::cout << std::setprecision(3) << std::fixed;
    std::cout << run(v) << std::endl;
    for (const auto& p : v) {
        std::cout << p.idx << " ";
    }
}
